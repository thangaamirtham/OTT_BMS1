<div class="col-md-12">
  <nb-card>
     <toaster-container></toaster-container>
     <nb-card-header class="bg-gradient"> Add Deposit</nb-card-header>
     <nb-card-body>
        <form [formGroup]="AddDepositForm" (ngSubmit)="addDeposit()"  class="form-horizontal">
           <div class="modal-body">
              <div class="form-group row">
                 <div class="col-sm-3">
                    <label>Reseller Type <span style="color:red;">*</span></label>
                     <select name="Role" formControlName="Role" (change)="resellername();
                     AddDepositForm.controls.res_name.setValue('');AddDepositForm.controls.res_balance.setValue('');"
                       [ngClass]="{'form-control' : true,'form-control-danger':AddDepositForm.controls.Role.invalid&&submit}">
                       <option value="" selected>Select Reseller Type</option>
                       <option value="1">Distributor</option>
                       <option value="2">Sub-Distributor</option>
                       <option value="3">Reseller</option>
                    </select>
                    <small *ngIf="AddDepositForm.controls.Role.invalid&&submit" class="form-text error">Profile Is
                       Required!</small>
                 </div>
                 <div class="col-sm-3">
                    <label>Reseller Name <span style="color:red;">*</span></label>
                    <auto-completen (changed)="resbalance()" (keyUp)="resellername($event)"
                       [addclass]="{'form-control' : true,'form-control-danger':AddDepositForm.controls.res_name.invalid&&submit}"
                        optValues="bname" formControlName="res_name" placeholder='Select Reseller' optId="mid" [item]="reseldata">
                    </auto-completen>
                    <small *ngIf="AddDepositForm.controls.res_name.invalid&&submit" class="form-text error">Reseller Name is Required!</small>
                 </div>
              </div>
              <nb-card>
                 <nb-card-header style="background-color :  #01a7ee">Deposit Creation</nb-card-header>
                 <nb-card-body>
                    <div class="form-group row">
                       <div class="col-sm-4">
                          <label>Reseller Balance</label>
                          <input type="text" formControlName="res_balance" readonly placeholder="Reseller Balance"
                          [ngClass]="{'form-control':true,'form-control-danger':AddDepositForm.controls.invalid&&submit}">
                       </div>
                       <div class="col-sm-4">
                          <label>Deposit Mode <span style="color:red;">*</span></label>
                          <select formControlName="dep_mode"
                           [ngClass]="{'form-control':true,'form-control-danger':AddDepositForm.controls.dep_mode.invalid&&submit}">
                             <option value="" selected>Select Deposit Mode</option>
                             <option value="1">Deposit</option>
                              <option value="2">Debit</option>
                           </select>
                       </div>
                       
                      
                    </div>
                    
                    <div class="form-group row">
                       
                       <div class="col-sm-4" *ngIf="AddDepositForm.value['dep_mode']=='1'||AddDepositForm.value['dep_mode']=='2'">
                          <label>Deposit Amount <span style="color:red;">*</span></label>
                          <input formControlName="dep_amount" placeholder="Deposit Amount" 
                          [ngClass]="{'form-control':true,'form-control-danger':AddDepositForm.controls.dep_amount.invalid&&submit}">
                          <small *ngIf="AddDepositForm.controls.dep_amount.invalid&&submit" class="form-text error">Deposit Amount is Required</small>
                       </div>
                    </div>
                    <div class="form-group row">
                       
                       <div class="col-sm-4">
                          <label> Reason <span style="color:red;">*</span></label>
                          <input type="text" formControlName="reason" placeholder=" Reason"
                           [ngClass]="{'form-control':true,'form-control-danger':AddDepositForm.controls.reason.invalid&&submit}">
                          <small *ngIf="AddDepositForm.controls.reason.invalid&&submit" class="form-text eror"> Reason is Required!</small>
                       </div>
                       <div class="col-sm-4">
                          <label>Notes</label>
                          <textarea formControlName="note" placeholder="Notes" [ngClass]="{'form-control':true,'form-control-danger':AddDepositForm.controls.note.invalid&&submit}">

                          </textarea>
                       </div>
                    </div>
                 </nb-card-body>
              </nb-card>
              <div class="modal-footer">
                 <button type="submit" class="btn btn-sm btn-success">Add</button>
                 <button type="button" class="btn btn-sm btn-danger"
                    [routerLink]="['/pages/account/listdeposit']">Back</button>
              </div>
           </div>
        </form>
     </nb-card-body>
  </nb-card>
</div>                 
 